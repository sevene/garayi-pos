"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3571],{63:(e,t,r)=>{var n=r(7260);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},367:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(5155),a=r(2115),l=r(7650),o=r(5748),i=r(6059);function s(e){let{options:t,value:r,onChange:s,placeholder:c="Select an option",label:d,className:u="",disabled:m=!1,required:h=!1,error:g=!1,name:f,id:b}=e,[x,p]=(0,a.useState)(!1),v=(0,a.useRef)(null),y=(0,a.useRef)(null),[w,N]=(0,a.useState)({top:0,left:0,width:0}),j=b||f,E=()=>{if(v.current){let e=v.current.getBoundingClientRect();N({top:e.bottom+window.scrollY,left:e.left+window.scrollX,width:e.width})}};(0,a.useEffect)(()=>{let e=e=>{let t=e.target,r=v.current&&v.current.contains(t),n=y.current&&y.current.contains(t);r||n||p(!1)},t=e=>{let t=e.target;x&&y.current&&!y.current.contains(t)&&p(!1)},r=()=>{x&&E()};return document.addEventListener("mousedown",e),window.addEventListener("scroll",t,!0),window.addEventListener("resize",r),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",r)}},[x]),(0,a.useEffect)(()=>{x&&E()},[x]);let k=t.find(e=>e.value===r),S=(0,n.jsx)("div",{ref:y,className:"fixed z-9999 bg-white shadow-xl rounded-lg text-base ring-1 ring-gray-200 ring-opacity-5 overflow-hidden focus:outline-none sm:text-sm mt-1",style:{top:w.top,left:w.left,width:w.width},children:(0,n.jsx)("div",{className:"max-h-60 overflow-auto py-1",children:0===t.length?(0,n.jsx)("div",{className:"cursor-default select-none relative py-2 px-3 text-gray-500 text-center",children:"No options available."}):t.map(e=>(0,n.jsxs)("div",{className:"cursor-pointer select-none relative py-2 pl-3 pr-9 text-left hover:bg-lime-50 transition-colors ".concat(r===e.value?"bg-lime-50 text-lime-900 font-medium":"text-neutral-500"),onClick:t=>{t.stopPropagation(),s(e.value),p(!1)},children:[(0,n.jsx)("span",{className:"block truncate",children:e.label}),r===e.value&&(0,n.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-lime-600",children:(0,n.jsx)(o.A,{className:"h-5 w-5","aria-hidden":"true"})})]},e.value))})});return(0,n.jsxs)("div",{className:"relative w-full ".concat(u),ref:v,children:[d&&(0,n.jsxs)("label",{htmlFor:j,className:"block text-sm font-medium text-gray-700 mb-1",children:[d,h&&(0,n.jsx)("span",{className:"text-red-500 ml-0.5",children:"*"})]}),(0,n.jsxs)("button",{id:j,type:"button",onClick:()=>!m&&p(!x),disabled:m,className:"w-full flex items-center justify-between px-3 py-2 border rounded-lg bg-white text-left text-sm transition-all\n                    ".concat(m?"bg-gray-50 text-gray-400 cursor-not-allowed":"cursor-pointer","\n                    ").concat(g?" ring-2 ring-red-500/20 border-red-300 bg-red-50 hover:border-red-400":"border-gray-200 hover:border-gray-300","\n                    ").concat(x?"ring-2 ring-lime-500/20 border-lime-500 outline-none":"","\n                "),children:[(0,n.jsx)("span",{className:"block truncate ".concat(k?"text-gray-900":"text-gray-400"),children:k?k.label:c}),(0,n.jsx)(i.A,{className:"w-5 h-5 text-gray-400 transition-transform ".concat(x?"rotate-180":"")})]}),x&&!m&&"undefined"!=typeof document&&(0,l.createPortal)(S,document.body)]})}},370:(e,t,r)=>{r.d(t,{Y:()=>a});var n=r(2115);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"admin-main-content",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,[r,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let r=document.getElementById(e);if(!r)return;let n=()=>{let e=r.scrollTop;e>t?a(!0):e<t/2&&a(!1)};return r.addEventListener("scroll",n),n(),()=>r.removeEventListener("scroll",n)},[e,t]),r}},460:(e,t,r)=>{function n(e){let t=new Map,r=[];return e.forEach(e=>{t.set(e._id,{...e,children:[]})}),e.forEach(e=>{let n=t.get(e._id);if(e.parentId){let a=t.get(e.parentId);a?(a.children=a.children||[],a.children.push(n)):r.push(n)}else r.push(n)}),r}function a(e){let t=n(e),r=[];return!function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach(t=>{r.push({value:t._id,label:n+t.name,isSubcategory:!!t.parentId}),t.children&&t.children.length>0&&e(t.children,n+"  ")})}(t),r}r.d(t,{F:()=>a,N:()=>n})},1962:(e,t,r)=>{r.d(t,{i:()=>n});let n=e=>{if(""===e||null==e)return"";let t=Number(e);return isNaN(t)?"":t}},3328:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(5155);r(2115);var a=r(63);function l(e){let{title:t,isScrolled:r,isSaving:l=!1,onCancel:o,formId:i,saveLabel:s="Save",cancelLabel:c="Cancel",children:d}=e,u=(0,a.useRouter)();return(0,n.jsx)("div",{className:"sticky -top-8 z-20 bg-white border-b border-gray-200 px-8 transition-all duration-300 ease-in-out -mx-8 -mt-8 mb-8\n            ".concat(r?"py-2 max-h-14":"py-4 max-h-32","\n        "),children:(0,n.jsxs)("div",{className:"flex justify-between items-center gap-3",children:[(0,n.jsx)("div",{className:"overflow-hidden transition-all duration-300 ease-in-out ".concat(r?"max-h-0 opacity-0":"max-h-20 opacity-100"),children:(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t})}),(0,n.jsx)("div",{className:"flex gap-2 ml-auto transition-all duration-300 ".concat(r?"py-1":""),children:d||(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:"button",onClick:()=>{o?o():u.back()},className:"bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium\n                                    ".concat(r?"px-2 py-1":"px-4 py-2"),disabled:l,children:c}),(0,n.jsx)("button",{type:"submit",form:i,className:"bg-lime-500 text-white rounded-lg hover:bg-lime-600 transition-all font-medium hover:shadow-md hover:shadow-lime-200 disabled:opacity-70 disabled:cursor-not-allowed\n                                    ".concat(r?"px-2 py-1":"px-4 py-2"),disabled:l,children:l?"Saving...":s})]})})]})})}},5748:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(2115);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})},6059:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(2115);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},6473:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(5155);function a(e){let{label:t,className:r="",error:a=!1,disabled:l=!1,required:o=!1,multiline:i=!1,id:s,...c}=e,d=s||c.name;return(0,n.jsxs)("div",{className:"w-full ".concat(r),children:[t&&(0,n.jsxs)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1",children:[t,o&&(0,n.jsx)("span",{className:"text-red-500 ml-0.5",children:"*"})]}),i?(0,n.jsx)("textarea",{id:d,disabled:l,required:o,className:"\n                        w-full px-3 py-2 text-sm border rounded-lg outline-none transition-all duration-200\n                        text-gray-900 placeholder-gray-400 min-h-20 resize-y\n                        ".concat(l?"bg-gray-50 text-gray-400 cursor-not-allowed border-gray-200":"bg-white","\n                        ").concat(a?"border-red-300 ring-4 ring-red-500/10 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 hover:border-gray-300 focus:border-lime-500 focus:ring-4 focus:ring-lime-500/10","\n                    "),...c}):(0,n.jsx)("input",{id:d,disabled:l,required:o,className:"\n                        w-full px-3 py-2 text-sm border rounded-lg outline-none transition-all duration-200\n                        text-gray-900 placeholder-gray-400\n                        ".concat(l?"bg-gray-50 text-gray-400 cursor-not-allowed border-gray-200":"bg-white","\n                        ").concat(a?"border-red-300 ring-4 ring-red-500/10 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 hover:border-gray-300 focus:border-lime-500 focus:ring-4 focus:ring-lime-500/10","\n                    "),...c})]})}r(2115)},9749:(e,t,r)=>{r.d(t,{t:()=>a});var n=r(2115);let a=()=>{let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!0),[l,o]=(0,n.useState)(null),i="/api";return(0,n.useEffect)(()=>{(async()=>{if(!i)return a(!1);try{let a=await fetch("".concat(i,"/settings"));if(a.ok){var e,r,n,l,s,c,d;let o=await a.json();t({storeName:o.name||"",storeAddress:(null==(e=o.address)?void 0:e.street)||"",currency:o.currency||"PHP",taxRate:void 0!==o.tax_rate?Number(o.tax_rate):.08,enableNotifications:null==(d=null==(r=o.settings)?void 0:r.enableNotifications)||d,receiptHeader:(null==(n=o.receipt)?void 0:n.header)||"",receiptFooter:(null==(l=o.receipt)?void 0:l.footer)||"",printerName:(null==(s=o.receipt)?void 0:s.printerName)||"",theme:(null==(c=o.settings)?void 0:c.theme)||"light"})}else o("Failed to fetch settings")}catch(e){console.error(e),o("Error fetching settings")}finally{a(!1)}})()},[i]),{settings:e,loading:r,error:l,formatCurrency:t=>{let r=(null==e?void 0:e.currency)==="USD"?"$":(null==e?void 0:e.currency)==="EUR"?"€":"₱";return"".concat(r).concat(t.toFixed(2))},getCurrencySymbol:()=>e?"USD"===e.currency?"$":"EUR"===e.currency?"€":"₱":"₱"}}}}]);