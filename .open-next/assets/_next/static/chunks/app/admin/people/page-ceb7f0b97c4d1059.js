(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{90:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})},367:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(5155),a=r(2115),l=r(7650),n=r(5748),o=r(6059);function i(e){let{options:t,value:r,onChange:i,placeholder:c="Select an option",label:d,className:m="",disabled:u=!1,required:x=!1,error:p=!1,name:h,id:g}=e,[b,f]=(0,a.useState)(!1),y=(0,a.useRef)(null),v=(0,a.useRef)(null),[w,j]=(0,a.useState)({top:0,left:0,width:0}),N=g||h,k=()=>{if(y.current){let e=y.current.getBoundingClientRect();j({top:e.bottom+window.scrollY,left:e.left+window.scrollX,width:e.width})}};(0,a.useEffect)(()=>{let e=e=>{let t=e.target,r=y.current&&y.current.contains(t),s=v.current&&v.current.contains(t);r||s||f(!1)},t=e=>{let t=e.target;b&&v.current&&!v.current.contains(t)&&f(!1)},r=()=>{b&&k()};return document.addEventListener("mousedown",e),window.addEventListener("scroll",t,!0),window.addEventListener("resize",r),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",r)}},[b]),(0,a.useEffect)(()=>{b&&k()},[b]);let E=t.find(e=>e.value===r),C=(0,s.jsx)("div",{ref:v,className:"fixed z-9999 bg-white shadow-xl rounded-lg text-base ring-1 ring-gray-200 ring-opacity-5 overflow-hidden focus:outline-none sm:text-sm mt-1",style:{top:w.top,left:w.left,width:w.width},children:(0,s.jsx)("div",{className:"max-h-60 overflow-auto py-1",children:0===t.length?(0,s.jsx)("div",{className:"cursor-default select-none relative py-2 px-3 text-gray-500 text-center",children:"No options available."}):t.map(e=>(0,s.jsxs)("div",{className:"cursor-pointer select-none relative py-2 pl-3 pr-9 text-left hover:bg-lime-50 transition-colors ".concat(r===e.value?"bg-lime-50 text-lime-900 font-medium":"text-neutral-500"),onClick:t=>{t.stopPropagation(),i(e.value),f(!1)},children:[(0,s.jsx)("span",{className:"block truncate",children:e.label}),r===e.value&&(0,s.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-lime-600",children:(0,s.jsx)(n.A,{className:"h-5 w-5","aria-hidden":"true"})})]},e.value))})});return(0,s.jsxs)("div",{className:"relative w-full ".concat(m),ref:y,children:[d&&(0,s.jsxs)("label",{htmlFor:N,className:"block text-sm font-medium text-gray-700 mb-1",children:[d,x&&(0,s.jsx)("span",{className:"text-red-500 ml-0.5",children:"*"})]}),(0,s.jsxs)("button",{id:N,type:"button",onClick:()=>!u&&f(!b),disabled:u,className:"w-full flex items-center justify-between px-3 py-2 border rounded-lg bg-white text-left text-sm transition-all\n                    ".concat(u?"bg-gray-50 text-gray-400 cursor-not-allowed":"cursor-pointer","\n                    ").concat(p?" ring-2 ring-red-500/20 border-red-300 bg-red-50 hover:border-red-400":"border-gray-200 hover:border-gray-300","\n                    ").concat(b?"ring-2 ring-lime-500/20 border-lime-500 outline-none":"","\n                "),children:[(0,s.jsx)("span",{className:"block truncate ".concat(E?"text-gray-900":"text-gray-400"),children:E?E.label:c}),(0,s.jsx)(o.A,{className:"w-5 h-5 text-gray-400 transition-transform ".concat(b?"rotate-180":"")})]}),b&&!u&&"undefined"!=typeof document&&(0,l.createPortal)(C,document.body)]})}},874:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))})},1715:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},1962:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});let s=e=>{if(""===e||null==e)return"";let t=Number(e);return isNaN(t)?"":t}},2507:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{title:t,description:r,className:a=""}=e;return(0,s.jsxs)("div",{className:"relative ".concat(a),children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:t}),r&&(0,s.jsx)("p",{className:"text-base font-normal text-gray-700 mt-2 tracking-wide",children:r})]})}r(2115)},3569:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})},5748:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})},6059:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},7218:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},8688:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))})},8961:(e,t,r)=>{Promise.resolve().then(r.bind(r,9182))},9182:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(5155),a=r(2115),l=r(9200);let n=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))});var o=r(1715),i=r(874),c=r(7218),d=r(9852),m=r(90),u=r(8688),x=r(9554),p=r(8720),h=r(3569),g=r(367),b=r(1962);let f=["active","inactive"],y=[{label:"Hourly Rate",value:"hourly"},{label:"Daily Rate",value:"daily"},{label:"Commission Only",value:"commission"}];function v(e){let{formData:t,setFormData:r,onSubmit:a,isEditing:l,isSaving:n,onCancel:o,roles:i=[]}=e,c=(e,t)=>{if(e.includes(".")){let s=e.split(".");if(2===s.length){let[e,a]=s;r(r=>({...r,[e]:{...r[e],[a]:t}}))}}else r(r=>({...r,[e]:t}))};return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:l?"Edit Employee":"New Employee"}),(0,s.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(h.A,{className:"w-6 h-6"})})]}),(0,s.jsxs)("form",{onSubmit:a,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Name"}),(0,s.jsx)("input",{type:"text",required:!0,value:t.name,onChange:e=>c("name",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500",placeholder:"e.g. John Doe"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Role"}),(0,s.jsx)(g.A,{value:t.role,onChange:e=>c("role",e),options:i.length>0?i.map(e=>({label:e.displayName,value:e.name})):[],placeholder:"Select Role",className:"w-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"PIN Code"}),(0,s.jsx)("input",{type:"text",value:t.pin,onChange:e=>c("pin",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500 font-mono tracking-widest",placeholder:"e.g. 1234"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Status"}),(0,s.jsx)(g.A,{value:t.status,onChange:e=>c("status",e),options:f.map(e=>({label:e.charAt(0).toUpperCase()+e.slice(1),value:e})),placeholder:"Select Status",className:"w-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:t.contactInfo.phone,onChange:e=>c("contactInfo.phone",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500",placeholder:"0912 345 6789"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",value:t.contactInfo.email,onChange:e=>c("contactInfo.email",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500",placeholder:"employee@example.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Address"}),(0,s.jsx)("textarea",{rows:2,value:t.address,onChange:e=>c("address",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500 resize-none",placeholder:"Complete address"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-bold text-gray-800 text-sm mb-3 border-t pt-4 border-gray-100 flex items-center gap-2",children:[(0,s.jsx)("span",{children:"\uD83D\uDCB0"})," Compensation Structure"]}),(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-3",children:[(0,s.jsxs)("div",{className:"col-span-5",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pay Type"}),(0,s.jsx)(g.A,{value:t.compensation.payType,onChange:e=>c("compensation.payType",e),options:y,placeholder:"Select Type",className:"w-full"})]}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"daily"===t.compensation.payType?"Daily Rate":"Hourly Rate"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-sans",children:"â‚±"}),(0,s.jsx)("input",{type:"number",min:"0",disabled:"commission"===t.compensation.payType,value:""===t.compensation.rate?"":Number(t.compensation.rate).toString(),onChange:e=>c("compensation.rate",(0,b.i)(e.target.value)),className:"w-full pl-7 pr-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500\n                                        ".concat("commission"===t.compensation.payType?"bg-gray-50 text-gray-400 cursor-not-allowed":""),placeholder:"0.00"})]})]}),(0,s.jsxs)("div",{className:"col-span-3",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Commission"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",min:"0",max:"100",value:""===t.compensation.commission?"":Number(t.compensation.commission).toString(),onChange:e=>c("compensation.commission",(0,b.i)(e.target.value)),className:"w-full pl-3 pr-7 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500 text-right",placeholder:"0"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 font-sans",children:"%"})]})]})]})]}),(0,s.jsxs)("div",{className:"pt-4 flex gap-3 justify-end border-t border-gray-100 mt-6",children:[(0,s.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-lime-500 text-white font-bold rounded-lg shadow-md hover:bg-lime-600 disabled:opacity-50 transition-all flex items-center gap-2",children:[n&&(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/50 border-t-white rounded-full animate-spin"}),l?"Save Changes":"Create Employee"]})]})]})]})}let w=[{value:"pos_access",label:"POS Access"},{value:"admin_dashboard",label:"Admin Dashboard"},{value:"manage_products",label:"Manage Products"},{value:"manage_inventory",label:"Manage Inventory"},{value:"manage_staff",label:"Manage Staff"},{value:"manage_customers",label:"Manage Customers"},{value:"view_reports",label:"View Reports"},{value:"settings_access",label:"Settings Access"}];function j(e){let{formData:t,setFormData:r,onSubmit:a,isEditing:l,isSaving:n,onCancel:o}=e,i=(e,t)=>{r(r=>({...r,[e]:t}))};return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:l?"Edit Role":"New Role"}),(0,s.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(h.A,{className:"w-6 h-6"})})]}),(0,s.jsxs)("form",{onSubmit:a,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"System Name (ID)"}),(0,s.jsx)("input",{type:"text",required:!0,value:t.name,onChange:e=>i("name",e.target.value.toLowerCase().replace(/\s+/g,"_")),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500",placeholder:"e.g. senior_cashier",disabled:l&&("admin"===t.name||"staff"===t.name)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Display Name"}),(0,s.jsx)("input",{type:"text",required:!0,value:t.displayName,onChange:e=>i("displayName",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500",placeholder:"e.g. Senior Cashier"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{rows:2,value:t.description,onChange:e=>i("description",e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white transition-all hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500 resize-none",placeholder:"Brief description of responsibilities"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Permissions"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 bg-gray-50 p-4 rounded-xl border border-gray-200",children:w.map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-white rounded-lg transition-colors group",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.permissions.includes(e.value),onChange:()=>{var t;return t=e.value,void r(e=>e.permissions.includes(t)?{...e,permissions:e.permissions.filter(e=>e!==t)}:{...e,permissions:[...e.permissions,t]})},className:"w-4 h-4 text-lime-600 rounded border-gray-300 focus:ring-lime-500 cursor-pointer"}),(0,s.jsx)("span",{className:"text-sm text-gray-700 font-medium group-hover:text-gray-900",children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{className:"pt-4 flex gap-3 justify-end",children:[(0,s.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-lime-500 text-white font-bold rounded-lg shadow-md hover:bg-lime-600 disabled:opacity-50 transition-all flex items-center gap-2",children:[n&&(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/50 border-t-white rounded-full animate-spin"}),l?"Save Role":"Create Role"]})]})]})]})}var N=r(2507);let k={name:"",role:"staff",pin:"",contactInfo:{phone:"",email:""},address:"",status:"active",compensation:{payType:"hourly",rate:0,commission:0}},E={name:"",displayName:"",permissions:[],description:""},C=["bg-red-100 text-red-700","bg-orange-100 text-orange-700","bg-amber-100 text-amber-700","bg-yellow-100 text-yellow-700","bg-lime-100 text-lime-700","bg-green-100 text-green-700","bg-emerald-100 text-emerald-700","bg-teal-100 text-teal-700","bg-cyan-100 text-cyan-700","bg-sky-100 text-sky-700","bg-blue-100 text-blue-700","bg-indigo-100 text-indigo-700","bg-violet-100 text-violet-700","bg-purple-100 text-purple-700","bg-fuchsia-100 text-fuchsia-700","bg-pink-100 text-pink-700","bg-rose-100 text-rose-700"];function A(){let[e,t]=(0,a.useState)("employees"),[r,h]=(0,a.useState)([]),[g,b]=(0,a.useState)([]),[f,y]=(0,a.useState)(!1),[w,A]=(0,a.useState)(""),[L,R]=(0,a.useState)(!1),[S,_]=(0,a.useState)(!1),[M,O]=(0,a.useState)(!1),[D,I]=(0,a.useState)(null),[T,F]=(0,a.useState)(k),[B,P]=(0,a.useState)(E),W="/api",z=async()=>{if(W){y(!0);try{let e=await fetch("".concat(W,"/employees"));if(!e.ok)throw Error("Failed to fetch employees");let t=await e.json();h(t)}catch(e){console.error(e),p.oR.error("Failed to load employees")}finally{y(!1)}}},Z=async()=>{if(W){y(!0);try{let e=await fetch("".concat(W,"/roles"));if(!e.ok)throw Error("Failed to fetch roles");let t=await e.json();b(t)}catch(e){console.error(e),p.oR.error("Failed to load roles")}finally{y(!1)}}};(0,a.useEffect)(()=>{"employees"===e&&z(),Z()},[e]);let H=(0,a.useMemo)(()=>{if(!w)return r;let e=w.toLowerCase();return r.filter(t=>{var r,s,a,l;return t.name.toLowerCase().includes(e)||(null==(s=t.contactInfo)||null==(r=s.email)?void 0:r.toLowerCase().includes(e))||(null==(l=t.contactInfo)||null==(a=l.phone)?void 0:a.includes(e))||t.role.toLowerCase().includes(e)})},[r,w]),V=(0,a.useMemo)(()=>{if(!w)return g;let e=w.toLowerCase();return g.filter(t=>t.displayName.toLowerCase().includes(e)||t.name.toLowerCase().includes(e))},[g,w]),U=async(e,t)=>{if(confirm('Are you sure you want to delete employee "'.concat(t,'"?')))try{if(!(await fetch("".concat(W,"/employees/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete");h(t=>t.filter(t=>t._id!==e)),p.oR.success("Employee deleted")}catch(e){console.error(e),p.oR.error("Failed to delete employee")}},q=async e=>{e.preventDefault(),O(!0);try{let e=D?"".concat(W,"/employees/").concat(D):"".concat(W,"/employees"),{_id:t,...r}=T,s={...r,compensation:{...r.compensation,rate:Number(r.compensation.rate)||0,commission:Number(r.compensation.commission)||0}},a=await fetch(e,{method:D?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw Error("Failed to save");let l=await a.json();D?(h(e=>e.map(e=>e._id===D?l:e)),p.oR.success("Employee updated")):(h(e=>[l,...e]),p.oR.success("Employee created")),R(!1)}catch(e){console.error(e),p.oR.error("Failed to save employee")}finally{O(!1)}},J=async(e,t)=>{if(confirm('Are you sure you want to delete role "'.concat(t,'"?')))try{if(!(await fetch("".concat(W,"/roles/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete");b(t=>t.filter(t=>t._id!==e)),p.oR.success("Role deleted")}catch(e){console.error(e),p.oR.error("Failed to delete role")}},X=async e=>{e.preventDefault(),O(!0);try{let e=D?"".concat(W,"/roles/").concat(D):"".concat(W,"/roles"),{_id:t,...r}=B,s=await fetch(e,{method:D?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw Error("Failed to save role");let a=await s.json();D?(b(e=>e.map(e=>e._id===D?a:e)),p.oR.success("Role updated")):(b(e=>[a,...e]),p.oR.success("Role created")),_(!1)}catch(e){console.error(e),p.oR.error("Failed to save role")}finally{O(!1)}};return(0,s.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-1000 lg:px-6 lg:pb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsx)(N.A,{title:"employees"===e?"Employees":"Roles",description:"employees"===e?"Manage staff access and permissions":"Configure user roles and system privileges"}),(0,s.jsxs)("div",{className:"flex gap-2 bg-gray-50 p-1 rounded-xl border border-white",children:[(0,s.jsx)("button",{onClick:()=>t("employees"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all\n                            ".concat("employees"===e?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"Employees"}),(0,s.jsx)("button",{onClick:()=>t("roles"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all\n                            ".concat("roles"===e?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"Roles"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex flex-wrap gap-4 justify-between items-center",children:[(0,s.jsxs)("h2",{className:"font-semibold text-gray-700 flex items-center gap-2",children:["employees"===e?(0,s.jsx)(l.A,{className:"w-5 h-5"}):(0,s.jsx)(n,{className:"w-5 h-5"}),"employees"===e?"All Staff":"All Roles"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 max-w-md ml-auto",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(o.A,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,s.jsx)("input",{type:"text",placeholder:"Search ".concat(e,"..."),value:w,onChange:e=>A(e.target.value),className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500/20 focus:border-lime-500 transition-all"})]}),(0,s.jsx)("button",{onClick:"employees"===e?z:Z,className:"text-gray-400 hover:text-gray-600 p-1",title:"Refresh",children:(0,s.jsx)(i.A,{className:"w-5 h-5"})}),(0,s.jsxs)("button",{onClick:"employees"===e?()=>{I(null),F(k),R(!0)}:()=>{I(null),P(E),_(!0)},className:"flex items-center gap-2 bg-lime-500 hover:bg-lime-600 text-white px-3 py-1.5 rounded-lg font-medium shadow-sm transition-all active:scale-95 text-sm ml-2",children:[(0,s.jsx)(c.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Add ","employees"===e?"Employee":"Role"]})]})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:"employees"===e?(0,s.jsxs)("table",{className:"w-full text-left text-sm text-gray-600",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 font-bold text-gray-700 uppercase leading-normal",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Employee"}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:"Role"}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:"Contact"}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:f?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Loading employees..."})}):0===H.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No employees found."})}):H.map(e=>{var t,r,a;return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shrink-0 ".concat((a=e.name)?C[a.charCodeAt(0)%C.length]:C[0]),children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-gray-900",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["PIN: ",e.pin||"****"]})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-center",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:e.role})}),(0,s.jsx)("td",{className:"px-6 py-4 text-center",children:(0,s.jsxs)("div",{className:"inline-block text-left space-y-1",children:[(null==(t=e.contactInfo)?void 0:t.phone)&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"font-medium text-gray-700",children:e.contactInfo.phone})]}),(null==(r=e.contactInfo)?void 0:r.email)&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.contactInfo.email})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-center",children:(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-bold\n                                                    ".concat("active"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 text-center",children:(0,s.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{I(e._id),F({_id:e._id,name:e.name,role:e.role,pin:e.pin||"",contactInfo:{...e.contactInfo},address:e.address||"",status:e.status,compensation:e.compensation||{payType:"hourly",rate:0,commission:0}}),R(!0)},className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",children:(0,s.jsx)(u.A,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>U(e._id,e.name),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,s.jsx)(x.A,{className:"w-5 h-5"})})]})})]},e._id)})})]}):(0,s.jsxs)("table",{className:"w-full text-left text-sm text-gray-600",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 font-bold text-gray-700 uppercase leading-normal",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Display Name"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"System Name"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Permissions"}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:f?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500",children:"Loading roles..."})}):0===V.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500",children:"No roles found."})}):V.map(e=>{var t,r;return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 font-bold text-gray-900",children:e.displayName}),(0,s.jsx)("td",{className:"px-6 py-4 font-mono text-xs text-gray-500",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null==(t=e.permissions)?void 0:t.slice(0,3).map(e=>(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-600 text-xs border border-blue-100",children:e.replace(/_/g," ")},e)),(null==(r=e.permissions)?void 0:r.length)>3&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-gray-50 text-gray-500 text-xs border border-gray-100",children:["+",e.permissions.length-3," more"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-center",children:(0,s.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{I(e._id),P({_id:e._id,name:e.name,displayName:e.displayName||e.name,permissions:e.permissions||[],description:e.description||""}),_(!0)},className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",children:(0,s.jsx)(u.A,{className:"w-5 h-5"})}),"admin"!==e.name&&"staff"!==e.name&&(0,s.jsx)("button",{onClick:()=>J(e._id,e.displayName),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,s.jsx)(x.A,{className:"w-5 h-5"})})]})})]},e._id)})})]})})]}),L&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,s.jsx)("div",{className:"w-full max-w-4xl h-auto max-h-[95vh] overflow-y-auto rounded-2xl shadow-2xl",children:(0,s.jsx)(v,{formData:T,setFormData:F,onSubmit:q,isEditing:!!D,isSaving:M,onCancel:()=>R(!1),roles:g})})}),S&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,s.jsx)("div",{className:"w-full max-w-4xl h-auto max-h-[95vh] overflow-y-auto rounded-2xl shadow-2xl",children:(0,s.jsx)(j,{formData:B,setFormData:P,onSubmit:X,isEditing:!!D,isSaving:M,onCancel:()=>_(!1)})})})]})}},9200:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))})},9554:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},9852:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))})}},e=>{e.O(0,[8720,8441,1255,7358],()=>e(e.s=8961)),_N_E=e.O()}]);